# Server configuration
PORT=3004

# Public URL for Twilio callbacks (your nginx proxy or public domain)
PUBLIC_URL=https://your-domain.com

# Twilio API credentials
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_NUMBER=your_twilio_number

# OpenAI API key
OPENAI_API_KEY=your_openai_api_key
OPENAI_WEBSOCKET_URL=wss://api.openai.com/v1/realtime?model=gpt-4o-mini-realtime-preview

# Optional: Enable call recording
RECORD_CALLS=false

# API Secret for webhook security
API_SECRET=your_random_secret_here

# MongoDB credentials (generate random password with: openssl rand -base64 32)
MONGODB_USERNAME=voicecalls_admin
MONGODB_PASSWORD=your_random_mongodb_password
MONGODB_DATABASE=phony

# MongoDB connection (local container with authentication)
MONGODB_URI=mongodb://voicecalls_admin:your_random_mongodb_password@mongodb:27017/phony?authSource=admin

# Production Safety Controls - Always Enforced
# These limits prevent runaway costs and ensure safe operation in production

# Maximum total concurrent calls (incoming + outgoing combined, default: 10)
MAX_CONCURRENT_CALLS=10

# Maximum concurrent outgoing calls (default: 5)
MAX_CONCURRENT_OUTGOING_CALLS=5

# Maximum concurrent incoming calls (default: 5)
MAX_CONCURRENT_INCOMING_CALLS=5

# Maximum duration for outgoing calls in seconds - calls auto-hangup after this (default: 600 = 10 minutes)
MAX_OUTGOING_CALL_DURATION=600

# Maximum duration for incoming calls in seconds - calls auto-hangup after this (default: 1800 = 30 minutes)
MAX_INCOMING_CALL_DURATION=1800

# Test Mode Configuration (Optional)
# Enable test mode to activate the test receiver endpoint (does not consume OpenAI credits)
ENABLE_TEST_RECEIVER=false

# SMS Configuration
# Comma-separated list of phone numbers that are allowed to send SMS (E.164 format)
# Only these numbers can send text messages via the phony_send_sms tool
SMS_ENABLED_NUMBERS=+11234567890

# ElevenLabs Configuration (Optional - for ElevenLabs voice provider)
# Get your API key from: https://elevenlabs.io/app/settings/api-keys
ELEVENLABS_API_KEY=your_elevenlabs_api_key

# Default ElevenLabs agent ID for conversational AI
# Create an agent at: https://elevenlabs.io/app/conversational-ai
ELEVENLABS_DEFAULT_AGENT_ID=your_elevenlabs_agent_id

# Optional: Default ElevenLabs voice ID (uses agent default if not specified)
# ELEVENLABS_DEFAULT_VOICE_ID=your_voice_id

# Default voice provider for new calls: 'openai' or 'elevenlabs'
DEFAULT_VOICE_PROVIDER=openai
